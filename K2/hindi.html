<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hindi Letter Quiz (Random Feedback)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f0f8ff;
            padding: 50px;
        }
        .option {
            display: inline-block;
            background: #fff;
            border: 2px solid #ccc;
            border-radius: 12px;
            padding: 20px 40px;
            margin: 20px;
            font-size: 32px;
            cursor: pointer;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
            transition: background 0.3s;
        }
        .option:hover {
            background: #d4f1f4;
        }
        button {
            font-size: 20px;
            padding: 10px 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        table {
            margin: 30px auto;
            border-collapse: collapse;
            width: 60%;
            background: #fff;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ccc;
            padding: 12px;
            font-size: 18px;
        }
        th {
            background: #d4f1f4;
        }
        #feedback {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            color: #333;
        }
    </style>
</head>
<body>

<h1>üîä Listen and Choose the Hindi Letter</h1>
<button onclick="speakLetter()">üîä Play Sound Again</button>

<div id="feedback"></div>

<div id="options">
    <!-- Options will appear here -->
</div>

<h2>Results</h2>
<table id="resultsTable">
    <tr>
        <th>#</th>
        <th>Letter Played</th>
        <th>Selected Answer</th>
        <th>Result</th>
    </tr>
</table>

<script>
    const letters = [
        { letter: "‡§Ö", roman: "A" },
        { letter: "‡§Ü", roman: "AA" },
        { letter: "‡§á", roman: "I" },
        { letter: "‡§à", roman: "II" },
        { letter: "‡§â", roman: "U" },
        { letter: "‡§ä", roman: "UU" },
        { letter: "‡§è", roman: "E" },
        { letter: "‡§ê", roman: "AI" },
        { letter: "‡§ì", roman: "O" },
        { letter: "‡§î", roman: "AU" },
        { letter: "‡§ï", roman: "KA" },
        { letter: "‡§ñ", roman: "KHA" },
        { letter: "‡§ó", roman: "GA" },
        { letter: "‡§ò", roman: "GHA" },
        { letter: "‡§ö", roman: "CHA" },
        { letter: "‡§õ", roman: "CHHA" },
        { letter: "‡§ú", roman: "JA" },
        { letter: "‡§ù", roman: "JHA" },
        { letter: "‡§ü", roman: "TA" },
        { letter: "‡§†", roman: "THA" },
        { letter: "‡§°", roman: "DA" },
        { letter: "‡§¢", roman: "DHA" },
        { letter: "‡§§", roman: "TA" },
        { letter: "‡§•", roman: "THA" },
        { letter: "‡§¶", roman: "DA" },
        { letter: "‡§ß", roman: "DHA" },
        { letter: "‡§®", roman: "NA" },
        { letter: "‡§™", roman: "PA" },
        { letter: "‡§´", roman: "PHA" },
        { letter: "‡§¨", roman: "BA" },
        { letter: "‡§≠", roman: "BHA" },
        { letter: "‡§Æ", roman: "MA" },
        { letter: "‡§Ø", roman: "YA" },
        { letter: "‡§∞", roman: "RA" },
        { letter: "‡§≤", roman: "LA" },
        { letter: "‡§µ", roman: "VA" },
        { letter: "‡§∂", roman: "SHA" },
        { letter: "‡§∑", roman: "SSHA" },
        { letter: "‡§∏", roman: "SA" },
        { letter: "‡§π", roman: "HA" }
    ];

    const positiveFeedback = [
        "Awesome! You got it right!",
        "Fantastic job! Keep it up!",
        "Brilliant! You're doing great!",
        "Wow! That‚Äôs perfect!",
        "Hooray! You nailed it!",
        "Superb! You're a star!",
        "Yippee! You did it!",
        "Excellent work! Proud of you!",
        "Great choice! You‚Äôre rocking it!",
        "Magnificent! Spot on!",
        "High five! That‚Äôs correct!",
        "Bravo! You‚Äôre amazing!",
        "Terrific! You‚Äôre a champ!",
        "Boom! Right on target!",
        "You‚Äôre unstoppable! Well done!",
        "Champion move! Keep going!",
        "Fabulous! You got it spot on!",
        "Splendid! Keep shining!",
        "That‚Äôs genius! Great job!",
        "Sweet! You‚Äôre crushing it!"
    ];

    const negativeFeedback = [
        "Oops! That's not correct. Try again!",
        "Not quite! Give it another shot!",
        "Hmm, that's incorrect. Try once more!",
        "Oh no! That's not it. Keep trying!",
        "Almost there! Try again!",
        "Close, but not quite. Try again!",
        "Hmm‚Ä¶ that‚Äôs not the right one. Don‚Äôt give up!",
        "No worries! You‚Äôll get it next time!",
        "Keep going! You‚Äôre learning!",
        "Oopsie! Give it another try!",
        "Not this one! Look carefully and try again!",
        "Hmm, that's a tricky one. Try once more!",
        "Nice try! Let‚Äôs try again!",
        "Don‚Äôt worry! Try again‚Äîyou‚Äôve got this!",
        "Ah, not this time! Keep practicing!",
        "That‚Äôs okay! Everyone makes mistakes. Try again!",
        "Hmm‚Ä¶ have another look and try again!",
        "Almost cracked it! Give it one more go!",
        "Nope! But you‚Äôre getting closer!",
        "Oh snap! Not the right one. Try again!"
    ];

    let correctLetter = "";
    let attemptCount = 0;

    // Helper function to speak the correct Romanized sound
    function getRomanSound(roman) {
        const romanSounds = {
            "KA": "ka",
            "KHA": "kha",
            "GA": "ga",
            "GHA": "gha",
            "CHA": "cha",
            "CHHA": "chha",
            "JA": "ja",
            "JHA": "jha",
            "TA": "ta",
            "THA": "tha",
            "DA": "da",
            "DHA": "dha",
            "NA": "na",
            "PA": "pa",
            "PHA": "pha",
            "BA": "ba",
            "BHA": "bha",
            "MA": "ma",
            "YA": "ya",
            "RA": "ra",
            "LA": "la",
            "VA": "va",
            "SHA": "sha",
            "SSHA": "ssha",
            "SA": "sa",
            "HA": "ha",
            "A": "a",
            "AA": "aa",
            "I": "i",
            "II": "ii",
            "U": "u",
            "UU": "uu",
            "E": "e",
            "AI": "ai",
            "O": "o",
            "AU": "au"
        };

        return romanSounds[roman] || roman;
    }

    function getRandomLetter() {
        const index = Math.floor(Math.random() * letters.length);
        return letters[index];
    }

    function getRandomFeedback(feedbackArray) {
        const index = Math.floor(Math.random() * feedbackArray.length);
        return feedbackArray[index];
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function speakLetter() {
        const romanSound = getRomanSound(correctLetter.roman);
        const utterance = new SpeechSynthesisUtterance(romanSound);
        utterance.lang = "en-US";
        speechSynthesis.speak(utterance);
    }

    function generateOptions() {
        correctLetter = getRandomLetter();

        const optionsSet = new Set();
        optionsSet.add(correctLetter);

        while (optionsSet.size < 4) {
            optionsSet.add(getRandomLetter());
        }

        const options = Array.from(optionsSet);
        shuffleArray(options);

        const optionsDiv = document.getElementById("options");
        optionsDiv.innerHTML = ""; // Clear previous options

        options.forEach(letterObj => {
            const btn = document.createElement("div");
            btn.className = "option";
            btn.textContent = letterObj.letter;
            btn.onclick = () => checkAnswer(letterObj);
            optionsDiv.appendChild(btn);
        });

        speakLetter();
    }

    function checkAnswer(selected) {
        attemptCount++;
        const isCorrect = selected === correctLetter;
        const resultText = isCorrect ? "‚úÖ Correct" : "‚ùå Wrong";

        const feedbackMessage = isCorrect
            ? getRandomFeedback(positiveFeedback)
            : getRandomFeedback(negativeFeedback);

        speak(feedbackMessage);

        const feedbackDiv = document.getElementById("feedback");
        feedbackDiv.textContent = feedbackMessage;

        const table = document.getElementById("resultsTable");
        const row = table.insertRow(1); // Insert the row at position 1 (top of the table)
        row.insertCell(0).textContent = attemptCount;
        row.insertCell(1).textContent = correctLetter.letter;
        row.insertCell(2).textContent = selected.letter;
        row.insertCell(3).textContent = resultText;

        if (isCorrect) {
            // Delay next letter by 3 seconds
            setTimeout(generateOptions, 3000);
        }
    }

    function speak(text) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "en-US";
        utterance.rate = 1;
        speechSynthesis.speak(utterance);
    }

    window.onload = generateOptions;
</script>

</body>
</html>
